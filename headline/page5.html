<!DOCTYPE html>
<html lang="zh-CN" ng-app="headlineApp5">

<head>
    <title>好标题</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <!--优先使用 IE 最新版本和 Chrome-->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <!--360 使用Google Chrome Frame-->
    <meta name="renderer" content="webkit">
    <!--百度禁止转码-->
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <!-- 是否启用 WebApp 全屏模式 -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no, email=no,adress=no" searchtype="map" />
    <!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 -->
    <meta name="HandheldFriendly" content="true">
    <!-- uc强制竖屏 -->
    <meta name="screen-orientation" content="portrait">
    <!-- QQ强制竖屏 -->
    <meta name="x5-orientation" content="portrait">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache,must-revalidate">
    <meta http-equiv="expires" content="0">
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0,maximum-scale=1.0,user-scalable=no, minimal-ui">
    <meta name="screen-orientation" content="portrait">
    <meta name="x5-orientation" content="portrait">

    <script type="text/javascript" src="js/jquery/jquery-1.11.2.min.js"></script>
    <script src="js-lib/angular-1.3.15/angular.min.js"></script>
    <link rel="stylesheet" href="css/common.css">

</head>

<body>
    <div class="p5">
        <div class="p5-top"></div>
        <div class="p5-title">最佳人气标题，将花落谁家？</div>
        <div class="p5-c" ng-controller="customersController">
            <ul>
                <li ng-repeat="x in rs">
                    <div class="p5-num">No. {{x.num2}}</div>
                    <div class="p5-info">{{x.title1}}<br>{{x.title2}}<span>共顶{{x.tcount}}次</span></div>
                </li>
            </ul>
        </div>
        <div class="p5-btn"></div>
        <div class="p5-foot"></div>
    </div>
      
<script type="text/javascript" src="js/index.js"></script>
<script>
var app = angular.module("headlineApp5", []);
app.controller("customersController", ["$scope", "$http",
    function ($scope, $http) {
        $http.get("getAllHeadlineDesc").success(function(response) {
           var result=response.result; 
            $.each(result,function(i,r){
                if(i==13){ return false; }
                r.title1=r.title.split("|")[0];
                r.title2=r.title.split("|")[1];
                for(i=0; i< result.length; i++){
                    result[i].num2=i+1;     
                }
                $scope.rs=result;
            });
            
           
            
        });
    }
 ]); 


</script>
</body>
</html>
